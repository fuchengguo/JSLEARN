<!DOCTYPE html>
<html>
<head>
	<title>Function</title>
</head>
<body>

</body>
<script type="text/javascript">
	var arr = [1,2,3,4];
	function bb(name) {
		return new Promise((resolve,reject) => {
			setTimeout(() => {
				if (name == 4) {
					reject(name)
				}
				resolve(name)
			},1000)
		})
	}
	function aa(item) {
		return bb(item).then((res) => {
			console.log(res)

		})
		.catch((err) => {
			console.error(err)
		});
	}
	function cc() {
		return Promise.all(arr.map(aa))
	}
	cc()
</script>
</html>